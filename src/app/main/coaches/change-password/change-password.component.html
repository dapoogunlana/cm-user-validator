
<div class="auth-bg">
    <div class="auth-card">
        <div class="header-spacer"></div>
        <div class="form-flex" *ngIf="!registered; else registerMessage">
            <div class="input-flex">
                <div class="w100 full-button">
                    <div class="spread-info">
                        <h6 class="mb-0">Change Password</h6>
                        <p class="mb-0 font-weight-bold cancel" (click)="cancel()">Cancel</p>
                    </div>
                    <form #f="ngForm" name="signin_form" (ngSubmit)="onSubmit()" id="signin_form">
                        <label>Old Password</label>
                        <div class="relative">
                            <input [type]="passwordType" required name="old_password" required [(ngModel)]="form.old_password"
                                id="old_password" placeholder="Enter password">
                            <div class="eye-toggle">
                                <i class="far fa-eye" *ngIf="!passwordVisible" (click)="togglePasswordVisibility(true)"></i>
                                <i class="far fa-eye-slash" *ngIf="passwordVisible" (click)="togglePasswordVisibility(false)"></i>
                            </div>
                        </div>
                        <label>New Password</label>
                        <div class="relative">
                            <input [type]="passwordType" required name="password" required [(ngModel)]="form.password"
                                id="password" placeholder="Enter password">
                            <div class="eye-toggle">
                                <i class="far fa-eye" *ngIf="!passwordVisible" (click)="togglePasswordVisibility(true)"></i>
                                <i class="far fa-eye-slash" *ngIf="passwordVisible" (click)="togglePasswordVisibility(false)"></i>
                            </div>
                        </div>
                        <label>Confirm Password</label>
                        <div class="relative">
                            <input [type]="passwordType" required name="password2" required [(ngModel)]="form.password2"
                                id="password2" placeholder="Confirm password">
                            <div class="eye-toggle">
                                <i class="far fa-eye" *ngIf="!passwordVisible" (click)="togglePasswordVisibility(true)"></i>
                                <i class="far fa-eye-slash" *ngIf="passwordVisible" (click)="togglePasswordVisibility(false)"></i>
                            </div>
                        </div>
                        <button class="solid-button mt-2" [ngClass]="{'secondary-blue-i': loading}" type="submit" [disabled]="f.invalid || loading">
                            <span *ngIf="!loading">Update</span>
                            <span *ngIf="loading"><app-basic-loader [dimentions]="{size: 30, stroke: 4}"></app-basic-loader></span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
        <ng-template #registerMessage>
            <div class="form-flex">
                <div class="input-flex">
                    <div class="text-center">
                        <h6 class="mb-3">Your data has been updated Successfully</h6>
                        <div class="w80 full-button mb-2">
                            <a routerLink="/coach/profile">
                                <button class="solid-button-2">Return to Profile</button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </ng-template>
    </div>
</div>